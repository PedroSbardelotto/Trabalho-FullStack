# npm run dev 



### Passo 1.1: Criar um novo Cliente (USER)
# Esta é a rota pública que seu front-end usará.
# Ela sempre cria um cliente com a role "user".
POST http://localhost:3000/api/clientes
Content-Type: application/json

{
  "nome": "Cliente Comum Teste",
  "email": "comum@teste.com",
  "cpf": "11122233344",
  "senha": "senha123"
}

### Passo 1.2: Criar um novo Cliente (ADMIN)
# Esta é a rota "secreta" para você, desenvolvedor, criar um admin para testes.
POST http://localhost:3000/api/admin/clientes
Content-Type: application/json

{
  "nome": "Administrador Teste",
  "email": "admin@teste.com",
  "cpf": "99988877766",
  "senha": "admin123"
}

### Passo 2: Fazer Login (com o usuário Admin)
# AÇÃO: Use as credenciais do admin que você acabou de criar.
# AÇÃO: Copie o valor do "token" da resposta para usar nos próximos passos.
POST http://localhost:3000/api/login
Content-Type: application/json

{
  "cpf": "99988877766",
  "senha": "admin123"
}

### Passo 3: Criar um novo Evento com Imagem (Rota de Admin)
# Esta requisição DEVE ser multipart/form-data para enviar a imagem.
# AÇÃO: Substitua 'SEU_TOKEN_DE_ADMIN_AQUI' pelo token do Passo 2.
# AÇÃO: Mude o caminho para a sua imagem local na linha que começa com '<'.
# AÇÃO: Copie o "id" do evento da resposta para usar no Passo 5.
POST http://localhost:3000/api/eventos
Authorization: Bearer SEU_TOKEN_DE_ADMIN_AQUI
Content-Type: multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW

------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="nome"

Festival de Jazz & Blues
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="local"

Parque Central
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="horario"

2025-11-22T20:00:00Z
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="valor"

150
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="quantidadeDisponivel"

300
------WebKitFormBoundary7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="imagem"; filename="minha_imagem_teste.jpg"
Content-Type: image/jpeg

< src\uploads\images3.jpg

------WebKitFormBoundary7MA4YWxkTrZu0gW--


### Passo 4: Listar Eventos Disponíveis (Rota Pública)
# Verifica se o evento criado aparece na lista.
GET http://localhost:3000/api/eventos


### Passo 5: Comprar um Ingresso (Rota Protegida por User ou Admin)
# AÇÃO: Faça login com um usuário comum (Passo 1.1) para obter um token de cliente.
# AÇÃO: Substitua o token e o idEvento pelos valores corretos.
POST http://localhost:3000/api/pedidos
Content-Type: application/json
Authorization: Bearer SEU_TOKEN_DE_USER_AQUI

{
  "cpfCliente": "11122233344",
  "idEvento":"ID_DO_EVENTO_CRIADO_NO_PASSO_3" 
}


### Passo 6: Gerar Relatório de Pedidos (Protegido por Autenticação)
# AÇÃO: Pode ser testado com o token de admin ou de user.
GET http://localhost:3000/api/relatorio
Authorization: Bearer SEU_TOKEN_DE_USER_OU_ADMIN_AQUI


### Passo 7: Listar todos os clientes (Rota de Teste)
# Nova rota para visualizar todos os usuários no banco.
GET http://localhost:3000/api/clientes


### Passo 8: Deletar um cliente específico (Rota de Teste)
# AÇÃO: Pegue o 'id' de um cliente no Passo 7 e cole na URL abaixo.
DELETE http://localhost:3000/api/clientes/ID_DO_CLIENTE_PARA_DELETAR